"use strict";angular().module("angularSpaRefreshApp",["webStorageModule"]).config(["angularSpaRefreshProvider",function(a){a.init("version.js",5e3)}]).run(["angularSpaRefresh","$timeout",function(a,b){function c(){a.shouldRefresh()?location.reload():b(function(){c()},1e3)}a.startMonitoringAppVersion(),c()}]),function(a){function b(){function a(a,e){function f(){return!!k}function g(){k=!1;var a=i(d);a||(a=0,k=!0,j(d,a)),h(parseInt(a))}function h(e){a({method:"GET",url:b}).then(function(a){var b=parseInt(a.data.version);b>e&&(e=b,j(d,b),k=!0),setTimeout(function(){h(e)},c)},function(a){setTimeout(function(){h(e)},c)})}function i(a){return e.get(a)}function j(a,b){e.local.add(a,b)}var k=!1;return{shouldRefresh:f,startMonitoringAppVersion:g}}var b="version.json",c=6e4,d="angularSpaRefresh_version";this.init=function(a,d){b=a,c=d},this.$get=a,a.$inject=["$http","webStorage"]}a.module("angularSpaRefreshApp").provider("angularSpaRefresh",b)}(angular);